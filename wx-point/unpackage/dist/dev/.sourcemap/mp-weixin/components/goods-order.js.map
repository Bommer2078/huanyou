{"version":3,"sources":["webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?1a0f","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?19a9","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?d9e1","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?ff5e","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?32a1","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue?ac37"],"names":["name","props","item","Type","Object","requiery","data","showDetail","filters","statusText","val","arr","methods","handleTap","status","startPay","closeDetail","that","uni","login","success","res","code","params","orderId","id","$api","wxPay","then","payConfirm","$tip","toast","message","errMsg","obj","timeStamp","Date","getTime","paySign","currentAppid","nonce_str","prepay_id","payKey","requestPayment","String","nonceStr","package","signType","fail","err","console","log","complete","navigateBack"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0F;AAC3B;AACL;AACa;;;AAGvE;AAC+I;AAC/I,gBAAgB,iJAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAA4pB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+EhrB;AACA,4D,8FAhFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAIe,EACXA,IAAI,EAAE,YADK,EAEXC,KAAK,EAAE,EACHC,IAAI,EAAE,EACFC,IAAI,EAAEC,MADJ,EAEFC,QAAQ,EAAE,IAFR,EADH,EAFI,EAQXC,IARW,kBAQJ,CACH,OAAO,EACHC,UAAU,EAAE,KADT,EAAP,CAGH,CAZU,EAaXC,OAAO,EAAE,EACLC,UADK,sBACOC,GADP,EACY,CACtB;AACA,UAAIC,GAAG,GAAG,CAAE,KAAF,EAAS,KAAT,EAAgB,KAAhB,EAAuB,KAAvB,CAAV,CAEA,OAAOA,GAAG,CAACD,GAAD,CAAV,CACM,CANI,EAbE,EAqBXE,OAAO,EAAE,EACLC,SADK,uBACQ,CACT,IAAI,KAAKX,IAAL,CAAUY,MAAV,KAAqB,CAAzB,EAA4B,CACxB,KAAKP,UAAL,GAAkB,IAAlB,CACA,OACH,CACD,IAAI,KAAKL,IAAL,CAAUY,MAAV,KAAqB,CAAzB,EAA4B,CACxB,KAAKC,QAAL,GACH,CACJ,CATI,EAULC,WAVK,yBAUU,CACX,KAAKT,UAAL,GAAkB,KAAlB,CACH,CAZI,EAaLQ,QAbK,sBAaO,CACR,IAAIE,IAAI,GAAG,IAAX,CADQ,CAER;AACAC,SAAG,CAACC,KAAJ,CAAU,EACNC,OAAO,EAAE,iBAASC,GAAT,EAAa,CAClB,IAAGA,GAAG,CAACC,IAAP,EAAa,CACT,IAAIC,MAAM,GAAG,EACTD,IAAI,EAAED,GAAG,CAACC,IADD,EAETE,OAAO,EAAEP,IAAI,CAACf,IAAL,CAAUuB,EAFV,CAIb;AAJa,aAAb,CAKAR,IAAI,CAACS,IAAL,CAAUC,KAAV,CAAgBJ,MAAhB,EAAwBK,IAAxB,CAA6B,UAACtB,IAAD,EAAU,CACnC,IAAIA,IAAI,CAACgB,IAAL,KAAc,GAAlB,EAAuB,CACnBL,IAAI,CAACY,UAAL,CAAgBvB,IAAI,CAACA,IAArB,EACH,CAFD,MAEO,CACHW,IAAI,CAACa,IAAL,CAAUC,KAAV,WAAmBzB,IAAI,CAACgB,IAAxB,cAAgChB,IAAI,CAAC0B,OAArC,GAA+C,MAA/C,EACH,CACJ,CAND,EAOH,CAbD,MAaM,CACFf,IAAI,CAACa,IAAL,CAAUC,KAAV,yFAAqCV,GAAG,CAACY,MAAzC,GAAkD,MAAlD,EACH,CACJ,CAlBK,EAAV,EAoBH,CApCI,EAqCLJ,UArCK,sBAqCOK,GArCP,EAqCY,CACb,IAAIC,SAAS,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAhB,CACA,IAAIC,OAAO,mBAAYC,oBAAZ,uBAAqCL,GAAG,CAACM,SAAzC,gCAAwEN,GAAG,CAACO,SAA5E,qCAAgHN,SAAhH,kBAAiIO,cAAjI,CAAX,CACAJ,OAAO,GAAG,qBAAIA,OAAJ,CAAV,CACA,IAAIrB,IAAI,GAAG,IAAX,CACAC,GAAG,CAACyB,cAAJ,CAAmB,EACfR,SAAS,EAAES,MAAM,CAACT,SAAD,CADF,EAEfU,QAAQ,EAAEX,GAAG,CAACM,SAFC,EAGfM,OAAO,sBAAeZ,GAAG,CAACO,SAAnB,CAHQ,EAIfM,QAAQ,EAAE,KAJK,EAKfT,OAAO,EAAEA,OALM,EAMflB,OAAO,EAAE,mBAAW,CAChBH,IAAI,CAACa,IAAL,CAAUC,KAAV,CAAgB,MAAhB,EAAuB,MAAvB,EACH,CARc,EASfiB,IAAI,EAAE,cAASC,GAAT,EAAc,CAChBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAhC,IAAI,CAACa,IAAL,CAAUC,KAAV,6BAAuB,MAAvB,EACH,CAZc,EAafqB,QAAQ,EAAE,oBAAW,CACjBlC,GAAG,CAACmC,YAAJ,GACH,CAfc,EAAnB,EAiBH,CA3DI,EArBE,E;;;;;;;;;;;;;ACjFf;AAAA;AAAA;AAAA;AAA06B,CAAgB,41BAAG,EAAC,C;;;;;;;;;;;ACA97B,uC","file":"components/goods-order.js","sourcesContent":["import { render, staticRenderFns } from \"./goods-order.vue?vue&type=template&id=30af8d22&\"\nimport script from \"./goods-order.vue?vue&type=script&lang=js&\"\nexport * from \"./goods-order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods-order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\hugo-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('30af8d22', component.options)\n    } else {\n      api.reload('30af8d22', component.options)\n    }\n    module.hot.accept(\"./goods-order.vue?vue&type=template&id=30af8d22&\", function () {\n      api.rerender('30af8d22', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/goods-order.vue\"\nexport default component.exports","export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-order.vue?vue&type=template&id=30af8d22&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"statusText\")(_vm.item.status)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-order.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport md5 from '../libs/md5.min.js'\r\nimport { _shop_type, currentAppid, payKey } from '../libs/envLib'\r\nexport default {\r\n    name: 'goodsOrder',\r\n    props: {\r\n        item: {\r\n            Type: Object,\r\n            requiery: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showDetail: false\r\n        }\r\n    },\r\n    filters: {\r\n        statusText (val) {\r\n\t\t\t// 0. 已取消，1. 待付款，2. 待发货，3. 已发货\r\n\t\t\tlet arr = [ '已取消', '待付款', '待发货', '已发货' ]\r\n\r\n\t\t\treturn arr[val]\r\n        }\r\n    },\r\n    methods: {\r\n        handleTap () {\r\n            if (this.item.status !== 1) {\r\n                this.showDetail = true\r\n                return\r\n            }\r\n            if (this.item.status === 1) {\r\n                this.startPay()\r\n            }\r\n        },\r\n        closeDetail () {\r\n            this.showDetail = false\r\n        },\r\n        startPay () {\r\n            let that = this\r\n            // 微信支付流程\r\n            uni.login({\r\n                success: function(res){ \r\n                    if(res.code) {\r\n                        let params = {\r\n                            code: res.code,\r\n                            orderId: that.item.id\r\n                        }\r\n                        // console.log(res.code)\r\n                        that.$api.wxPay(params).then((data) => {\r\n                            if (data.code === '0') {\r\n                                that.payConfirm(data.data)\r\n                            } else {\r\n                                that.$tip.toast(`${data.code},${data.message}`,'none')\r\n                            }\r\n                        })\r\n                    }else {\r\n                        that.$tip.toast(`获取微信jscode错误，请稍后重试${res.errMsg}`,'none')\r\n                    }          \r\n                }  \r\n            })\r\n        },    \r\n        payConfirm (obj) {\r\n            let timeStamp = new Date().getTime()\r\n            let paySign = `appId=${currentAppid}&nonceStr=${obj.nonce_str}&package=prepay_id=${obj.prepay_id}&signType=MD5&timeStamp=${timeStamp}&key=${payKey}`\r\n            paySign = md5(paySign)\r\n            let that = this\r\n            uni.requestPayment({\r\n                timeStamp: String(timeStamp),\r\n                nonceStr: obj.nonce_str,\r\n                package: `prepay_id=${obj.prepay_id}`,\r\n                signType: 'MD5',\r\n                paySign: paySign,\r\n                success: function() {                    \r\n                    that.$tip.toast('支付成功','none')  \r\n                },\r\n                fail: function(err) {  \r\n                    console.log(err)                      \r\n                    that.$tip.toast(`支付失败`,'none') \r\n                },\r\n                complete: function() {                   \r\n                    uni.navigateBack()\r\n                },\r\n            })\r\n        },  \r\n    },\r\n}\r\n","import mod from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods-order.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}