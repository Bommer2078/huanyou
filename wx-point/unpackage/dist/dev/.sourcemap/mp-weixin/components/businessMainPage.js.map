{"version":3,"sources":["webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?4664","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?8b79","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?846b","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?56a0","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?035d","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue?9622"],"names":["name","computed","data","showBox","showNumChoseBox","count","watch","nval","methods","startScan","type","that","uni","scanCode","onlyFromCamera","scanType","success","res","postData","result","fail","$tip","toast","confirmScan","postGoodsData","reduceNum","addNum","ticketInfo","closeBox","val","console","log","temp","JSON","parse","now","Date","getTime","t","alertDialog","params","childCode","code","password","pcode","username","un","$api","writeOffYearTicket","message","orderNum","writeOffSpecialTicket"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+F;AAC3B;AACL;AACa;;;AAG5E;AAC+I;AAC/I,gBAAgB,iJAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAiqB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoDrrB,gD;AACe;AACXA,MAAI,EAAE,kBADK;AAEXC,UAAQ;AACD,sBAAS,CAAC,UAAD,CAAT,CADC,CAFG;;AAKXC,MALW,kBAKJ;AACH,WAAO;AACHC,aAAO,EAAE,KADN;AAEHC,qBAAe,EAAE,KAFd;AAGHC,WAAK,EAAE,CAHJ,EAAP;;AAKH,GAXU;AAYXC,OAAK,EAAE;AACHF,mBADG,2BACcG,IADd,EACoB;AACnB,UAAIA,IAAJ,EAAU;AACN,aAAKF,KAAL,GAAa,CAAb;AACH;AACJ,KALE,EAZI;;AAmBXG,SAAO,EAAE;AACLC,aADK,qBACMC,IADN,EACY;AACb,UAAIC,IAAI,GAAG,IAAX;AACA,UAAID,IAAI,KAAK,CAAb,EAAgB;AACZ,aAAKN,eAAL,GAAuB,IAAvB;AACA;AACH;AACDQ,SAAG,CAACC,QAAJ,CAAa;AACTC,sBAAc,EAAE,IADP;AAETC,gBAAQ,EAAE,SAFD;AAGTC,eAHS,mBAGAC,GAHA,EAGK;AACVN,cAAI,CAACO,QAAL,CAAcD,GAAG,CAACE,MAAlB;AACH,SALQ;AAMTC,YANS,kBAMD;AACJT,cAAI,CAACU,IAAL,CAAUC,KAAV,CAAgB,UAAhB,EAA2B,MAA3B;AACH,SARQ,EAAb;;AAUH,KAjBI;AAkBLC,eAlBK,yBAkBU;AACX,UAAIZ,IAAI,GAAG,IAAX;AACAC,SAAG,CAACC,QAAJ,CAAa;AACTC,sBAAc,EAAE,IADP;AAETC,gBAAQ,EAAE,SAFD;AAGTC,eAHS,mBAGAC,GAHA,EAGK;AACVN,cAAI,CAACa,aAAL,CAAmBP,GAAG,CAACE,MAAvB;AACH,SALQ;AAMTC,YANS,kBAMD;AACJT,cAAI,CAACU,IAAL,CAAUC,KAAV,CAAgB,UAAhB,EAA2B,MAA3B;AACH,SARQ,EAAb;;AAUH,KA9BI;AA+BLG,aA/BK,uBA+BQ;AACT,UAAI,KAAKpB,KAAL,GAAa,CAAjB,EAAoB;AAChB,aAAKA,KAAL;AACH;AACJ,KAnCI;AAoCLqB,UApCK,oBAoCK;AACN,WAAKrB,KAAL;AACH,KAtCI;AAuCLsB,cAvCK,sBAuCOjB,IAvCP,EAuCa;AACd,UAAIA,IAAI,KAAK,CAAb,EAAgB;AACZ,aAAKW,IAAL,CAAUC,KAAV,CAAgB,aAAhB,EAA8B,MAA9B;AACA;AACH;AACD,WAAKnB,OAAL,GAAe,IAAf;AACH,KA7CI;AA8CLyB,YA9CK,oBA8CKlB,IA9CL,EA8CW;AACZ,WAAKA,IAAL,IAAa,KAAb;AACH,KAhDI;AAiDCQ,YAjDD,0GAiDWW,GAjDX;AAkDDC,uBAAO,CAACC,GAAR,CAAYF,GAAZ;AACIG,oBAnDH,GAmDUC,IAAI,CAACC,KAAL,CAAWL,GAAX,CAnDV;AAoDGM,mBApDH,GAoDS,IAAIC,IAAJ,GAAWC,OAAX,EApDT;AAqDGF,mBAAG,GAAGH,IAAI,CAACM,CAAX,GAAe,MArDlB;AAsDG,qBAAKjB,IAAL,CAAUkB,WAAV,CAAsB,8BAAtB,EAtDH;;;AAyDGC,sBAzDH,GAyDY;AACTC,2BAAS,EAAGT,IAAI,CAACU,IADR;AAETC,0BAAQ,EAAGX,IAAI,CAACY,KAFP;AAGTC,0BAAQ,EAAGb,IAAI,CAACc,EAHP,EAzDZ;;AA8DiB,uBAAKC,IAAL,CAAUC,kBAAV,CAA6BR,MAA7B,CA9DjB,SA8DKvB,GA9DL;AA+DD,oBAAIA,GAAG,CAACyB,IAAJ,KAAa,GAAjB,EAAsB;AAClB,uBAAKrB,IAAL,CAAUkB,WAAV,CAAsB,OAAtB;AACH,iBAFD,MAEO;AACH,uBAAKlB,IAAL,CAAUkB,WAAV,qCAA+BtB,GAAG,CAACgC,OAAnC;AACH;AACD,qBAAKrB,QAAL,CAAc,iBAAd,EApEC;;AAsECJ,iBAtED,gHAsEgBK,GAtEhB;AAuEGG,oBAvEH,GAuEUC,IAAI,CAACC,KAAL,CAAWL,GAAX,CAvEV;AAwEGW,sBAxEH,GAwEY;AACTnC,uBAAK,EAAI,KAAKA,KADL;AAET6C,0BAAQ,EAAGlB,IAAI,CAACkB,QAFP,EAxEZ;;AA4EiB,uBAAKH,IAAL,CAAUI,qBAAV,CAAgCX,MAAhC,CA5EjB,SA4EKvB,GA5EL;AA6ED,oBAAIA,GAAG,CAACyB,IAAJ,KAAa,GAAjB,EAAsB;AAClB,uBAAKrB,IAAL,CAAUkB,WAAV,CAAsB,OAAtB;AACH,iBAFD,MAEO;AACH,uBAAKlB,IAAL,CAAUkB,WAAV,qCAA+BtB,GAAG,CAACgC,OAAnC;AACH,iBAjFA,wKAnBE,E;;;;;;;;;;;;;ACrDf;AAAA;AAAA;AAAA;AAA+6B,CAAgB,i2BAAG,EAAC,C;;;;;;;;;;;ACAn8B,uC","file":"components/businessMainPage.js","sourcesContent":["import { render, staticRenderFns } from \"./businessMainPage.vue?vue&type=template&id=5337e64d&\"\nimport script from \"./businessMainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./businessMainPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./businessMainPage.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\hugo-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5337e64d', component.options)\n    } else {\n      api.reload('5337e64d', component.options)\n    }\n    module.hot.accept(\"./businessMainPage.vue?vue&type=template&id=5337e64d&\", function () {\n      api.rerender('5337e64d', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hugo-project/my_self_project/huanyou/git/huanyou/wx-point/components/businessMainPage.vue\"\nexport default component.exports","export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./businessMainPage.vue?vue&type=template&id=5337e64d&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./businessMainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./businessMainPage.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n    name: 'businessMainPage',    \r\n    computed: {\r\n        ...mapState(['userInfo'])\r\n    },\r\n    data() {\r\n        return {\r\n            showBox: false,\r\n            showNumChoseBox: false,\r\n            count: 1\r\n        }\r\n    },\r\n    watch: {\r\n        showNumChoseBox (nval) {\r\n            if (nval) {\r\n                this.count = 1\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        startScan (type) {\r\n            let that = this\r\n            if (type === 2) {\r\n                this.showNumChoseBox = true\r\n                return\r\n            }\r\n            uni.scanCode({\r\n                onlyFromCamera: true,\r\n                scanType: 'QR_CODE',\r\n                success (res) {\r\n                    that.postData(res.result)\r\n                },\r\n                fail () {\r\n                    that.$tip.toast('扫描失败,请重试','none')\r\n                }\r\n            })\r\n        },\r\n        confirmScan () {\r\n            let that = this\r\n            uni.scanCode({\r\n                onlyFromCamera: true,\r\n                scanType: 'QR_CODE',\r\n                success (res) {\r\n                    that.postGoodsData(res.result)\r\n                },\r\n                fail () {\r\n                    that.$tip.toast('扫描失败,请重试','none')\r\n                }\r\n            })\r\n        },\r\n        reduceNum () {\r\n            if (this.count > 1) {\r\n                this.count --\r\n            }\r\n        },\r\n        addNum () {\r\n            this.count ++\r\n        },\r\n        ticketInfo (type) {\r\n            if (type === 1) {                \r\n                this.$tip.toast('功能暂未开放，敬请期待','none')\r\n                return\r\n            }\r\n            this.showBox = true\r\n        },\r\n        closeBox (type) {\r\n            this[type] = false\r\n        },\r\n        async postData (val) {\r\n            console.log(val)\r\n            let temp = JSON.parse(val)\r\n            let now = new Date().getTime()\r\n            if (now - temp.t > 120000) {\r\n                this.$tip.alertDialog('该二维码已超过两分钟有效时间，请提示用户刷新二维码后重试')\r\n                return \r\n            }\r\n            let params = {\r\n                childCode : temp.code,\r\n                password : temp.pcode,\r\n                username : temp.un\r\n            }\r\n            const res = await this.$api.writeOffYearTicket(params)\r\n            if (res.code === '0') {                \r\n                this.$tip.alertDialog('核销成功!')\r\n            } else {\r\n                this.$tip.alertDialog(`核销失败! ${res.message}`)\r\n            }\r\n            this.closeBox('showNumChoseBox')\r\n        },\r\n        async postGoodsData (val) {\r\n            let temp = JSON.parse(val)\r\n            let params = {\r\n                count  : this.count,\r\n                orderNum : temp.orderNum\r\n            }\r\n            const res = await this.$api.writeOffSpecialTicket(params)\r\n            if (res.code === '0') {                \r\n                this.$tip.alertDialog('核销成功!')\r\n            } else {\r\n                this.$tip.alertDialog(`核销失败! ${res.message}`)\r\n            }\r\n        }\r\n    },\r\n}\r\n","import mod from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./businessMainPage.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./businessMainPage.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}