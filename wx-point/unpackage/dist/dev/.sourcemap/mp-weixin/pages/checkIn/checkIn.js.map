{"version":3,"sources":["webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?b432","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?c88d","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?2faf","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?9579","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?14aa","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue?3eea"],"names":["computed","currentTicketObj","ticketList","currentTicket","showSwitchIcon","ticketBaseInfo","id","itemId","components","tkiQrcode","data","currentTime","timer","QRStr","isChange","src","onHide","uni","hideLoading","clearInterval","onShow","hasLogin","openTimer","watch","changeQR","methods","qrR","res","clickImg","imgUrl","bindingPhoto","previewImage","urls","success","fail","complete","cancelBind","$tip","confirm","then","confimCancelBind","catch","changeBindPhoto","url","params","ticketId","photoUrl","$api","updateBindingPhoto","code","getTicketList","toast","message","bindingName","bingingPhoto","childCode","password","$nextTick","userInfo","bindLogin","reLaunch","creatQrcode","temp","Date","getTime","$refs","qrcode","_makeCode","setInterval","handleChangeQR","setTimeout","_clearCode","pcode","un","username","t","obj","JSON","stringify","goRight","length","goLeft","switchCurrentTicketType","preUploadImg","verify","alertDialog","uploadImg","that","wx","chooseImage","count","sizeType","sourceType","tempFilePaths","imgUploading","uploadFile","filePath","name","res1","parse","pageNum","pageSize","bindTicketList","list","redirectTo"],"mappings":"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","file":"pages/checkIn/checkIn.js","sourcesContent":["import { render, staticRenderFns } from \"./checkIn.vue?vue&type=template&id=4dd7df28&\"\nimport script from \"./checkIn.vue?vue&type=script&lang=js&\"\nexport * from \"./checkIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkIn.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\hugo-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4dd7df28', component.options)\n    } else {\n      api.reload('4dd7df28', component.options)\n    }\n    module.hot.accept(\"./checkIn.vue?vue&type=template&id=4dd7df28&\", function () {\n      api.rerender('4dd7df28', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/checkIn/checkIn.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkIn.vue?vue&type=template&id=4dd7df28&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkIn.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport tkiQrcode from \"../../components/tki-qrcode\"\nimport { mapState } from 'vuex'\nexport default {\n    computed: {\n        ...mapState(['userInfo','ticketBaseInfo']),            \n        currentTicketObj() {\n            return this.ticketList[this.currentTicket]\n        },\n        showSwitchIcon () {\n            return this.ticketBaseInfo.id !== this.currentTicket.itemId\n        }\n    },\n    components: {tkiQrcode},\n    data() {\n        return {\n            ticketList: [],\n            currentTicket: 0,\n            currentTime: '',\n            timer: null,\n            QRStr: '',\n            isChange: false,\n            src: ''\n        }\n    },\n    onHide() {\n        uni.hideLoading()\n        clearInterval(this.timer)\n    },\n    onShow() {\n        this.hasLogin()\n        this.openTimer()\n    },\n    watch: {\n        currentTime() {                  \n            this.changeQR()\n        },\n        currentTicket () {                \n            this.changeQR()\n        }\n    },\n    methods: {  \n        qrR(res) {\n            this.src = res\n        },   \n        clickImg: function(){\n            var imgUrl = this.currentTicketObj.bindingPhoto;\n            uni.previewImage({\n                urls: [imgUrl], //需要预览的图片http链接列表，注意是数组\n                success: function (res) { },\n                fail: function (res) { },\n                complete: function (res) { },\n            })\n        }, \n        cancelBind () {\n            this.$tip.confirm('取消绑定后不可撤销，确认解绑么','确认')\n            .then((res) => {\n                this.confimCancelBind()\n            })\n            .catch(() => {\n                return\n            })\n        },\n        async changeBindPhoto (url) {\n            let params = {\n                ticketId: this.currentTicketObj.id,\n                photoUrl: url\n            }\n            const res = await this.$api.updateBindingPhoto(params)\n            if (res.code === '0') {\n                this.getTicketList()\n            } else if (res.code === '60006') {                                       \n                this.$tip.confirm(`此票已被使用,不能修改头像`,'知道了')\n                .then(() => {\n                    return\n                })\n                .catch(() => {\n                    return\n                })\n            } else {                    \n                this.$tip.toast(`${res.message}`,'none')\n            }\n        },\n        async confimCancelBind () {                \n            let params = {\n                bindingName: this.currentTicketObj.bindingName,\n                bingingPhoto: this.currentTicketObj.bindingPhoto,\n                childCode:this.currentTicketObj.childCode,\n                password: this.currentTicketObj.password\n            }\n            const res = await this.$api.cancelBind(params)\n            if (res.code === '0') {\n                this.$tip.toast('解绑成功','none') \n                this.currentTicket = 0\n                this.$nextTick(() => {\n                    this.getTicketList()\n                })                      \n            } else {                    \n                this.$tip.confirm(`解绑失败${res.code}，此票已被核销`,'知道了')\n                .then(() => {\n                    return\n                })\n                .catch(() => {\n                    return\n                })\n            }\n        },\n        hasLogin () {\n            let hasLogin = !!this.userInfo\n            if (!hasLogin) {\n                this.bindLogin()\n            } else {                          \n                this.getTicketList()              \n            }\n        },   \n        bindLogin() {\n            uni.reLaunch({\n                url: '../login/login',\n            });\n        },   \n        creatQrcode() {\n            let temp = new Date()\n            this.currentTime = new Date().getTime()\n            this.$nextTick(() => {                    \n                this.$refs.qrcode._makeCode()\n            })\n        },\n        openTimer() {                \n            //定时刷新\n            this.timer = setInterval(() => {\n                this.currentTime = new Date().getTime()\n            },120000)\n        },\n        handleChangeQR () {\n            if (this.isChange) {\n                return\n            }                \n            this.isChange = true\n            setTimeout(() => {\n                this.isChange = false\n            },2000)\n            this.currentTime = new Date().getTime()\n        },\n        changeQR () {   \n            if (this.QRStr) {\n                this.$refs.qrcode._clearCode()         \n            }\n            let code = this.currentTicketObj.childCode\n            let pcode = this.currentTicketObj.password\n            let un = this.currentTicketObj.username\n            let t = this.currentTime\n            let obj = {\n                code,pcode,un,t\n            }\n            this.QRStr = JSON.stringify(obj)\n        },\n        goRight () {\n            if ( this.ticketList.length - 1 > this.currentTicket) {\n                this.currentTicket++\n            } else {\n                this.$tip.toast('没有更多了','none')\n            }\n        },\n        goLeft () {                \n            if ( this.currentTicket <= 0) {                    \n                this.$tip.toast('没有更多了','none')\n            } else {\n                this.currentTicket--\n            }\n        },\n        switchCurrentTicketType () {\n            // if (this.showSwitchIcon) {                    \n            //     this.$store.commit('SET_TICKET_OBJ',this.currentTicketObj)\n            // }\n        },    \n        preUploadImg() {  \n            if (this.currentTicketObj.verify) {                    \n                this.$tip.alertDialog('此票已使用，不能修改头像','知道了').then(() => {\n                    return false\n                })\n                return\n            } \n            this.$tip.alertDialog('联票未使用前可修改照片，使用后不可修改','知道了').then(() => {\n                this.uploadImg()\n            })\n        },\n        uploadImg () {\n            let that = this\n            wx.chooseImage({\n                count: 1,\n                sizeType: ['compressed'],\n                sourceType: ['album','camera'],\n                success (res) {\n                    const tempFilePaths = res.tempFilePaths\n                    that.imgUploading = true\n                    wx.uploadFile({\n                        // url: 'https://www.gzlxtx.cn:8080/common/uploadPhoto', //测试环境上传图片地址\n                        url: 'https://www.gzlxtx.cn/api/common/uploadPhoto', //正式环境上传图片地址\n                        filePath: tempFilePaths[0],\n                        name: 'file',\n                        success (res1) {\n                            let temp = JSON.parse(res1.data)\n                            if (temp.code === '0') {  \n                                that.changeBindPhoto(temp.data)\n                            } else {\n                                that.$tip.toast(temp.message,'none')\n                            }\n                        },\n                        complete () {\n                            setTimeout(() => {                                        \n                                that.imgUploading = false\n                            }, 1000);                    \n                        }\n                    })\n                }\n            })\n        },\n        async getTicketList () {\n            let params = {\n                pageNum: 1,\n                pageSize: 100,\n                username: this.userInfo.username\n            }\n            const res = await this.$api.bindTicketList(params)\n            if (res.code === '0') {\n                if (res.data.list.length > 0) {\n                    this.ticketList = res.data.list\n                    setTimeout(() => {\n                        this.creatQrcode()\n                    }, 500);\n                } else {\n                    this.$tip.toast('还未绑定联票,请先去绑定','none')\n                    uni.redirectTo({\n                        url: '/pages/bindTicket/bindTicket'\n                    })\n                }\n            }\n        }\n    }\n}\n","import mod from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkIn.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkIn.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}