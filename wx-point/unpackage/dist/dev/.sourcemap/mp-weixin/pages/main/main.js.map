{"version":3,"sources":["webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?96d1","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?87d3","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?9f78","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?8788","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?fbd7","webpack:///E:/hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue?2e43"],"names":["data","venueArr","goodsArr","phoneCall","QQCall","showTicketList","showCheckinBox","ticketList","versionToLow","userTicketList","userFootprint","tempUserObj","boxInfo","forbidChangeUser","currentUserTicket","getUserRecordDone","getVenueDataDone","currentTicketIndex","components","choseTicketList","checkinBox","computed","showHeaderLayOut","length","watch","newVal","calcVenueRecord","created","roleType","uni","reLaunch","url","getVenueTypeList","onShow","showShareMenu","getWxvison","onShareAppMessage","options","$commenShare","methods","switchTicketQr","index","handleBannerChange","obj","detail","current","wx","getSystemInfo","success","res","version","split","console","log","initGlobalData","fail","err","choseLocation","navigateTo","choseTicket","$store","commit","getRestData","locationObj","id","$api","getPlaceList","res1","code","locationArr","$tip","toast","getTicketList","getLocation","getLocal","latitude","longitude","then","userLocation","tempLocation","find","item","name","catch","lat","lon","$qqmapsdk","val","Promise","resolve","reject","reverseGeocoder","location","city","result","address_component","substring","params","pageNum","pageSize","placeId","getTickeList","res2","tempArr","list","filter","status","ticketBaseInfo","temp","getUserTicketList","getGoodsData","getVenueData","userInfo","String","username","bindTicketList","itemId","changeCurrentUserTicket","yearTicketId","getVenueList","afterOrderArr","sort","item1","item2","order1","order2","relatedRedundancy","JSON","parse","showOrder","getGoodsList","gotoSearchPage","intoVenueDetail","tempStr","$options","filters","intoAppoinment","intoTicket","setStorageSync","switchTab","switchTicket","gotoGoods","gotoMoreVenue","callPhone","showActionSheet","itemList","makePhoneCall","phoneNumber","tapIndex","errMsg","handleClickHead","nowTime","Date","getTime","time","flag","setTimeout","getUserRecord","pageNo","verifyUsername","getFootprint","ticketId","ticketRecordArr","userRecordArr","i","venueId","showFoot","closeBox"],"mappings":"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","file":"pages/main/main.js","sourcesContent":["import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=694f4620&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\hugo-app\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('694f4620', component.options)\n    } else {\n      api.reload('694f4620', component.options)\n    }\n    module.hot.accept(\"./main.vue?vue&type=template&id=694f4620&\", function () {\n      api.rerender('694f4620', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"hugo-project/my_self_project/huanyou/git/huanyou/wx-point/pages/main/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=694f4620&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/img/switch2.svg\")\n\n  var l0 = _vm.__map(_vm.venueArr, function(item, __i2__) {\n    var f0 = _vm._f(\"rulesText\")(item)\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f0: f0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { mapState } from 'vuex'\r\nimport choseTicketList from '../../components/choseTicketList'\r\nimport checkinBox from '../../components/checkinBox'\r\n    export default {\r\n        data() {\r\n            return {\r\n                venueArr: [],\r\n                goodsArr: [],\r\n                phoneCall :'4006099109',\r\n                QQCall :'QQ：8264070',\r\n                showTicketList: false,\r\n                showCheckinBox: false,\r\n                ticketList: [],\r\n                versionToLow: true,\r\n                userTicketList: [],\r\n                userFootprint: [],\r\n                tempUserObj: null,        \r\n                boxInfo: null,        \r\n                forbidChangeUser: false,\r\n                currentUserTicket: null,\r\n                getUserRecordDone: false,     \r\n                getVenueDataDone: false,     \r\n                currentTicketIndex: 0      \r\n            }\r\n        },\r\n        components: {\r\n            choseTicketList,\r\n            checkinBox\r\n        },\r\n        computed: {\r\n            ...mapState(['locationObj','ticketBaseInfo','venueTypeArr','roleType','userInfo']),\r\n            showHeaderLayOut () {\r\n                return this.userTicketList.length > 0\r\n            }\r\n        },\r\n        watch: {\r\n            getUserRecordDone (newVal) {\r\n                if (this.getVenueDataDone && newVal) {\r\n                    this.calcVenueRecord()\r\n                }\r\n            },\r\n            getVenueDataDone (newVal) {\r\n                if (this.getUserRecordDone && newVal) {\r\n                    this.calcVenueRecord()\r\n                }\r\n            }\r\n        },\r\n        created() {            \r\n            // uni.setEnableDebug({            \r\n            //     enableDebug: true            \r\n            // })\r\n            if (this.roleType === 'business') {\r\n                uni.reLaunch({\r\n                    url: '/pages/business/business'\r\n                });\r\n                return\r\n            }\r\n            this.getVenueTypeList()\r\n        },\r\n        onShow() {    \r\n            uni.showShareMenu({})    \r\n            this.getWxvison()    \r\n        },\r\n        onShareAppMessage: function( options ){\r\n            return this.$commenShare()\r\n        },\r\n        methods: {\r\n            switchTicketQr (index) {\r\n                this.boxInfo = this.userTicketList[index]\r\n            },\r\n            handleBannerChange (obj) {\r\n                this.currentTicketIndex = obj.detail.current                \r\n            },\r\n            getWxvison () {\r\n                wx.getSystemInfo({\r\n                    success: (res) => {\r\n                        let version = res.version.split('.')\r\n                        console.log(res)\r\n                        this.versionToLow = version[0] < 7\r\n                        console.log(version[0])\r\n                        this.initGlobalData()\r\n                    },\r\n                    fail: (err) => {\r\n                        console.log(err)\r\n                        this.initGlobalData()\r\n                    }\r\n                })\r\n            },\r\n            choseLocation () {                \r\n                uni.navigateTo({\r\n                    url: '/pages/locationChose/locationChose'\r\n                })\r\n            },\r\n            choseTicket (obj) {               \r\n                this.$store.commit('SET_TICKET_OBJ',obj)    \r\n                this.getRestData()\r\n                this.showTicketList = false \r\n            },\r\n            async initGlobalData () {\r\n                // 判断本地是否有地址信息\r\n                if (!this.locationObj || !this.locationObj.id) {\r\n                     const res1 = await this.$api.getPlaceList()\r\n                    if (res1.code === '0') {\r\n                        this.locationArr = res1.data\r\n                        if (this.versionToLow) {\r\n                            this.$tip.toast('微信版本过低，建议升级','none')\r\n                            this.$store.commit('SET_LOCATION_OBJ', this.locationArr[0])\r\n                            this.getTicketList()\r\n                            return\r\n                        }\r\n                        wx.getLocation({\r\n                            success: (res) => {\r\n                                // 引入第三方地图获取地址名称\r\n                                this.getLocal(res.latitude,res.longitude)\r\n                                .then((userLocation) => {\r\n                                        let tempLocation = this.locationArr.find((item) => {\r\n                                            return item.name === userLocation\r\n                                        })\r\n                                        // 如果没有则获取用户的地址信息 --> 对比已有城市进行跳转，否则跳转默认城市\r\n                                        this.$store.commit('SET_LOCATION_OBJ', tempLocation || this.locationArr[0])\r\n                                        this.getTicketList()\r\n                                    }\r\n                                ).catch(() => {                                    \r\n                                    this.$store.commit('SET_LOCATION_OBJ', this.locationArr[0])\r\n                                    this.getTicketList()\r\n                                })\r\n                            },\r\n                            fail: (err) => {\r\n                                console.log(err)\r\n                                this.$store.commit('SET_LOCATION_OBJ', this.locationArr[0])\r\n                                this.getTicketList()\r\n                            }\r\n                        })\r\n                    }                 \r\n                } else {\r\n                    this.getTicketList()\r\n                }\r\n            },\r\n            getLocal (lat,lon) {                \r\n                if (this.$qqmapsdk) {             \r\n                    let val = new Promise(\r\n                        (resolve, reject) => {                                  \r\n                            this.$qqmapsdk.reverseGeocoder({\r\n                                location: {\r\n                                    latitude: lat,\r\n                                    longitude: lon\r\n                                },\r\n                                success: (res) => {\r\n                                    console.log(res)\r\n                                    let city = res && res.result && res.result.address_component && res.result.address_component.city  \r\n                                    if (city) {\r\n                                        city = city.substring(0,city.length-1)         \r\n                                        resolve(city)\r\n                                    }                         \r\n                                    resolve(city)\r\n                                },\r\n                                fail: (err) => {\r\n                                    console.log(err)\r\n                                    reject('')\r\n                                }\r\n                            })\r\n                        }\r\n                    ) \r\n                    return val\r\n                }                \r\n            },\r\n            async getTicketList () {\r\n                let params = {\r\n                    pageNum: 1,\r\n                    pageSize: 10,\r\n                    placeId: this.locationObj.id\r\n                }               \r\n                const res2 = await this.$api.getTickeList(params)\r\n                if (res2.code === '0') {\r\n                    let tempArr = res2.data.list.filter((item) => {\r\n                        return item.status === 1\r\n                    })\r\n                    this.ticketList = tempArr\r\n                    if (this.ticketList.length === 0) {   \r\n                         // 没有可用票就跳去选城市                            \r\n                        this.$tip.toast('城市暂未开放请选择其他城市','none')\r\n                        this.choseLocation()\r\n                    } else if (this.ticketList.length === 1) {      \r\n                         // 只有一张可用票就直接加载该票                  \r\n                        this.$store.commit('SET_TICKET_OBJ',this.ticketList[0])  \r\n                        this.getRestData()\r\n                    } else if (this.ticketBaseInfo && this.ticketBaseInfo.id) {                        \r\n                         // 之前选过这个票种，且这个票种还有效，就直接取这个票种的数据     \r\n                        let temp = this.ticketList.find((item) => {\r\n                            return item.id === this.ticketBaseInfo.id\r\n                        })\r\n                        if (temp) {\r\n                            this.getRestData()\r\n                        } else {\r\n                            this.showTicketList = true\r\n                        }\r\n                    } else if (this.ticketList.length > 1) {\r\n                        // 之前没选过票种，就弹出票种选择\r\n                        this.showTicketList = true\r\n                    }         \r\n                }  \r\n            }, \r\n            getRestData () {     \r\n                this.getUserTicketList()                 \r\n                this.getGoodsData()\r\n                this.getVenueData()\r\n            },    \r\n            async getUserTicketList () {\r\n                if (!this.userInfo || !String(this.userInfo.username)) return\r\n                let params = {\r\n                    pageNum: 1,\r\n                    pageSize: 100,\r\n                    username: this.userInfo.username\r\n                }\r\n                const res = await this.$api.bindTicketList(params)\r\n                if (res.code === '0') {\r\n                    if (res.data.list.length > 0) {\r\n                        this.userTicketList = res.data.list.filter((item) => {\r\n                            return item.itemId === this.ticketBaseInfo.id\r\n                        })  \r\n                        if (this.userTicketList.length > 0) {                            \r\n                            this.changeCurrentUserTicket(this.userTicketList[0])\r\n                        }                      \r\n                    } else {\r\n                        this.userTicketList = []\r\n                    }\r\n                }\r\n            },        \r\n            async getVenueData () {                       \r\n                let params = {\r\n                    yearTicketId: this.ticketBaseInfo.id,\r\n                    pageNum: 1,\r\n                    pageSize: 20,\r\n                }                \r\n                const res = await this.$api.getVenueList(params)\r\n                if (res.code === '0') {\r\n                    let tempArr = res.data.list\r\n                    let afterOrderArr = tempArr.sort((item1,item2) => {\r\n                        let order1 = 0\r\n                        let order2 = 0\r\n                        if (item1.relatedRedundancy && item2.relatedRedundancy) {\r\n                            order1 = JSON.parse(item1.relatedRedundancy).showOrder || 0\r\n                            order2 = JSON.parse(item2.relatedRedundancy).showOrder || 0\r\n                        }\r\n                        return order1 - order2\r\n                    })\r\n                    this.venueArr = afterOrderArr\r\n                    this.getVenueDataDone = true\r\n                }\r\n            },\r\n            async getGoodsData () {                       \r\n                let params = {\r\n                    pageNum: 1,\r\n                    pageSize: 10,\r\n                    status: 1\r\n                }                \r\n                const res = await this.$api.getGoodsList(params)\r\n                if (res.code === '0') {\r\n                    this.goodsArr = res.data.list\r\n                }\r\n            },\r\n            async getVenueTypeList() {\r\n                const res = await this.$api.getVenueTypeList()\r\n                if (res.code === '0') {\r\n                    this.$store.commit('SET_VENUE_TYPE_ARR',res.data)\r\n                }\r\n            },\r\n            gotoSearchPage () {\r\n                uni.navigateTo({\r\n                    url: '/pages/searchPage/searchPage'\r\n                })\r\n            },\r\n            intoVenueDetail(item) {                \r\n                let tempStr = this.$options.filters['rulesText'](item)\r\n                uni.navigateTo({\r\n                    url: `/pages/venueDetail/venueDetail?id=${item.id}&str=${tempStr}`\r\n                })\r\n            },\r\n            intoAppoinment (id) {\r\n                uni.navigateTo({\r\n                    url: `/pages/appointmentPage/appointmentPage?id=${id}`\r\n                })\r\n            },\r\n            intoTicket () {\r\n                uni.setStorageSync('fromMainPageBanner',true)\r\n                uni.switchTab({\r\n                    url: `/pages/ticket/ticket`\r\n                })\r\n            },\r\n            switchTicket () {                                        \r\n                // this.$store.commit('SET_TICKET_OBJ',this.ticketList[this.currentTicketIndex])  \r\n                // this.getRestData()  \r\n                this.showTicketList = true\r\n            },\r\n            gotoGoods(item) {\r\n                uni.navigateTo({\r\n                    url: `/pages/goodsDetail/goodsDetail?id=${item.id}`\r\n                })\r\n            },\r\n            gotoMoreVenue () {\r\n                uni.navigateTo({                \r\n                    url: '../venueList/venueList'\r\n                })\r\n            },\r\n            callPhone () {\r\n                let phoneCall = [this.phoneCall,this.QQCall]\r\n                uni.showActionSheet({\r\n                    itemList: [phoneCall[0],phoneCall[1]],\r\n                    success: function (res) {\r\n                        console.log(res)\r\n                        wx.makePhoneCall({\r\n                            phoneNumber: phoneCall[res.tapIndex], \r\n                            success: function () {\r\n                                console.log(\"拨打电话成功！\")\r\n                            },\r\n                            fail: function () {\r\n                                console.log(\"拨打电话失败！\")\r\n                            }\r\n                        })\r\n                    },\r\n                    fail: function (res) {\r\n                        console.log(res.errMsg)\r\n                    }\r\n                })\r\n            },\r\n            handleClickHead (obj) {\r\n                let nowTime = new Date().getTime()\r\n                let temp = {\r\n                    id: obj.id,\r\n                    time: nowTime\r\n                }\r\n                let flag = this.tempUserObj && this.tempUserObj.id === temp.id && (temp.time - this.tempUserObj.time < 500)\r\n                if (flag) {\r\n                    // 双击\r\n                    console.log('双击')\r\n                    this.tempUserObj = null\r\n                    if (this.forbidChangeUser) {                        \r\n                        this.$tip.toast('请求加载中，请稍后重试','none')\r\n                    } else {\r\n                        this.boxInfo = obj\r\n                        this.showCheckinBox = true\r\n                    }\r\n                } else {                    \r\n                    this.tempUserObj = temp\r\n                }          \r\n                setTimeout(() => {\r\n                    if (this.tempUserObj) {\r\n                        this.tempUserObj = null                        \r\n                        console.log('单击')\r\n                        this.changeCurrentUserTicket(obj)\r\n                    }\r\n                },500)\r\n            },\r\n            changeCurrentUserTicket (obj) {             \r\n                if (this.currentUserTicket && this.currentUserTicket.id === obj.id) return\r\n                if (this.showCheckinBox || this.forbidChangeUser) {                      \r\n                    this.$tip.toast('请求加载中，请稍后重试','none')\r\n                    return\r\n                } \r\n                this.forbidChangeUser = true\r\n                this.currentUserTicket = obj\r\n                this.getUserRecord()\r\n            },\r\n            async getUserRecord () {  \r\n                let params = {\r\n                    pageNo: 1,\r\n                    pageSize: 100,\r\n                    verifyUsername: this.userInfo.username\r\n                }\r\n                const res = await this.$api.getFootprint(params)\r\n                if (res.code === '0') {\r\n                    if (this.getUserRecordDone) {                        \r\n                        this.calcVenueRecord()\r\n                    } else {\r\n                        this.getUserRecordDone = true\r\n                    }\r\n                    this.forbidChangeUser = false\r\n                    this.userFootprint = res.data.list\r\n                }\r\n            },\r\n            calcVenueRecord () {\r\n                let ticketId = this.ticketBaseInfo.id \r\n                let ticketRecordArr = this.userFootprint.filter((item) => {\r\n                    return item.itemId === ticketId\r\n                })\r\n                let userRecordArr = ticketRecordArr.filter((item) => {\r\n                    return this.currentUserTicket.id === item.ticketId\r\n                })\r\n                for (let i = 1; i < this.venueArr.length; i++) {\r\n                    let temp = userRecordArr.find((item) => {\r\n                        return item.venueId === this.venueArr[i].id\r\n                    })\r\n                    if (temp) {                        \r\n                        this.venueArr[i].showFoot = true\r\n                    } else {\r\n                        this.venueArr[i].showFoot = false\r\n                    }\r\n                }\r\n            },\r\n            closeBox (obj) {\r\n                this.showCheckinBox = false\r\n            }\r\n        },\r\n    }\r\n","import mod from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../hugo-app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}